{% extends "base.html" %}
{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% load bootstrap_icons %}
{% load static %}

{% block title %}Password Reset Complete{% endblock %}

{% block page_content %}
<div class="card shadow">
    <div class="card-header bg-success text-white">
        <h5 class="card-title mb-0">
            <i class="bi bi-check-circle"></i> Password Reset Complete
        </h5>
    </div>
    <div class="card-body">
        <p>The password for <strong>{{ target_user.email }}</strong> has been reset.</p>
        
        <div class="alert alert-warning">
            <i class="bi bi-exclamation-triangle"></i>
            <strong>Important:</strong> Copy this password now. It will never be shown again.
        </div>
        
        <div class="input-group mb-3">
            <input type="text" class="form-control" value="{{ temp_password }}" id="password" readonly>
            <button class="btn btn-outline-secondary" type="button" onclick="copyPassword()">
                <i class="bi bi-clipboard"></i> Copy
            </button>
        </div>
        
        <div class="d-flex justify-content-end">
            <a href="{% url 'user_detail' target_user.id %}" class="btn btn-primary">
                <i class="bi bi-arrow-left"></i> Return to User Profile
            </a>
        </div>
    </div>
</div>

<script>
function copyPassword() {
    const passwordInput = document.getElementById('password');
    passwordInput.select();
    document.execCommand('copy');
    
    // Visual feedback
    const button = event.target.closest('button');
    const originalHTML = button.innerHTML;
    button.innerHTML = '<i class="bi bi-check"></i> Copied!';
    setTimeout(() => {
        button.innerHTML = originalHTML;
    }, 2000);
}
</script>
{% endblock %} 